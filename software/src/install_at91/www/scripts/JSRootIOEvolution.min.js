(function(a){if(typeof define==="function"&&define.amd){define(["JSRootCore","rawinflate"],a)}else{if(typeof exports==="object"&&typeof module!=="undefined"){require("./rawinflate.min.js");a(require("./JSRootCore.js"))}else{if(typeof JSROOT=="undefined"){throw new Error("JSROOT I/O requires JSRootCore.js","JSRootIOEvolution.js")}if(typeof JSROOT.ZIP=="undefined"){throw new Error("JSROOT I/O requires rawinflate.js","JSRootIOEvolution.js")}if(typeof JSROOT.IO=="object"){throw new Error("This JSROOT IO already loaded","JSRootIOEvolution.js")}a(JSROOT)}}}(function(a){a.sources.push("io");a.IO={kBase:0,kOffsetL:20,kOffsetP:40,kChar:1,kShort:2,kInt:3,kLong:4,kFloat:5,kCounter:6,kCharStar:7,kDouble:8,kDouble32:9,kLegacyChar:10,kUChar:11,kUShort:12,kUInt:13,kULong:14,kBits:15,kLong64:16,kULong64:17,kBool:18,kFloat16:19,kObject:61,kAny:62,kObjectp:63,kObjectP:64,kTString:65,kTObject:66,kTNamed:67,kAnyp:68,kAnyP:69,kAnyPnoVT:70,kSTLp:71,kSkip:100,kSkipL:120,kSkipP:140,kConv:200,kConvL:220,kConvP:240,kSTL:300,kSTLstring:365,kStreamer:500,kStreamLoop:501,kMapOffset:2,kByteCountMask:1073741824,kNewClassTag:4294967295,kClassMask:2147483648,Mode:"array",NativeArray:true,TypeNames:["BASE","char","short","int","long","float","int","const char*","double","Double32_t","char","unsigned  char","unsigned short","unsigned","unsigned long","unsigned","Long64_t","ULong64_t","bool","Float16_t"],kNotSTL:0,kSTLvector:1,kSTLlist:2,kSTLdeque:3,kSTLmap:4,kSTLmultimap:5,kSTLset:6,kSTLmultiset:7,kSTLbitset:8,kSTLforwardlist:9,kSTLunorderedset:10,kSTLunorderedmultiset:11,kSTLunorderedmap:12,kSTLunorderedmultimap:13,kSTLend:14,StlNames:["","vector","list","deque","map","multimap","set","multiset","bitset"],kStreamedMemberWise:a.BIT(14),kSplitCollectionOfPointers:100,CustomStreamers:{},DirectStreamers:{},kIsReferenced:a.BIT(4),kHasUUID:a.BIT(5),IsInteger:function(b){return((b>=this.kChar)&&(b<=this.kLong))||(b===this.kCounter)||((b>=this.kLegacyChar)&&(b<=this.kBool))},IsNumeric:function(b){return(b>0)&&(b<=this.kBool)&&(b!==this.kCharStar)},GetTypeId:function(c,d){switch(c){case"bool":case"Bool_t":return a.IO.kBool;case"char":case"signed char":case"Char_t":return a.IO.kChar;case"Color_t":case"Style_t":case"Width_t":case"short":case"Short_t":return a.IO.kShort;case"int":case"EErrorType":case"Int_t":return a.IO.kInt;case"long":case"Long_t":return a.IO.kLong;case"float":case"Float_t":return a.IO.kFloat;case"double":case"Double_t":return a.IO.kDouble;case"unsigned char":case"UChar_t":return a.IO.kUChar;case"unsigned short":case"UShort_t":return a.IO.kUShort;case"unsigned":case"unsigned int":case"UInt_t":return a.IO.kUInt;case"unsigned long":case"ULong_t":return a.IO.kULong;case"int64_t":case"long long":case"Long64_t":return a.IO.kLong64;case"uint64_t":case"unsigned long long":case"ULong64_t":return a.IO.kULong64;case"Double32_t":return a.IO.kDouble32;case"Float16_t":return a.IO.kFloat16;case"char*":case"const char*":case"const Char_t*":return a.IO.kCharStar}if(!d){var b=a.IO.CustomStreamers[c];if(typeof b==="string"){return a.IO.GetTypeId(b,true)}}return -1},GetTypeSize:function(b){switch(b){case a.IO.kBool:return 1;case a.IO.kChar:return 1;case a.IO.kShort:return 2;case a.IO.kInt:return 4;case a.IO.kLong:return 8;case a.IO.kFloat:return 4;case a.IO.kDouble:return 8;case a.IO.kUChar:return 1;case a.IO.kUShort:return 2;case a.IO.kUInt:return 4;case a.IO.kULong:return 8;case a.IO.kLong64:return 8;case a.IO.kULong64:return 8}return -1}};a.addUserStreamer=function(c,b){a.IO.CustomStreamers[c]=b};a.R__unzip=function(k,j,h,d){var p=k.byteLength,q=d||0,g=0,l=null;function b(r){return String.fromCharCode(k.getUint8(r))}function c(r){return k.getUint8(r)}while(g<j){var f="uncknown",e=0,m=9;if(q+m>=p){if(!h){a.alert("Error R__unzip: header size exceeds buffer size")}return null}if(b(q)=="Z"&&b(q+1)=="L"&&c(q+2)==8){f="new";e=2}else{if(b(q)=="C"&&b(q+1)=="S"&&c(q+2)==8){f="old";e=0}else{if(b(q)=="X"&&b(q+1)=="Z"){f="LZMA"}}}if((f!=="new")&&(f!=="old")){if(!h){a.alert("R__unzip: "+f+" zlib format is not supported!")}return null}var o=m+((c(q+3)&255)|((c(q+4)&255)<<8)|((c(q+5)&255)<<16));var i=new Uint8Array(k.buffer,k.byteOffset+q+m+e,k.byteLength-q-m-e);if(!l){l=new ArrayBuffer(j)}var n=a.ZIP.inflate(i,new Uint8Array(l,g));if(n<=0){break}g+=n;q+=o}if(g!==j){if(!h){a.alert("R__unzip: fail to unzip data expects "+j+" , got "+g)}return null}return new DataView(l)};a.TBuffer=function(b,e,c,d){this._typename="TBuffer";this.arr=b;this.o=e||0;this.fFile=c;this.length=d||(b?b.byteLength:0);this.ClearObjectMap();this.fTagOffset=0;this.last_read_version=0;return this};a.TBuffer.prototype.locate=function(b){this.o=b};a.TBuffer.prototype.shift=function(b){this.o+=b};a.TBuffer.prototype.remain=function(){return this.length-this.o};a.TBuffer.prototype.GetMappedObject=function(b){return this.fObjectMap[b]};a.TBuffer.prototype.MapObject=function(b,c){if(c!==null){this.fObjectMap[b]=c}};a.TBuffer.prototype.MapClass=function(b,c){this.fClassMap[b]=c};a.TBuffer.prototype.GetMappedClass=function(b){if(b in this.fClassMap){return this.fClassMap[b]}return -1};a.TBuffer.prototype.ClearObjectMap=function(){this.fObjectMap={};this.fClassMap={};this.fObjectMap[0]=null;this.fDisplacement=0};a.TBuffer.prototype.ReadVersion=function(){var b={},c=this.ntou4();if(c&a.IO.kByteCountMask){b.bytecnt=c-a.IO.kByteCountMask-2}else{this.o-=4}this.last_read_version=b.val=this.ntoi2();this.last_read_checksum=0;b.off=this.o;if((b.val<=0)&&b.bytecnt&&(b.bytecnt>=4)){b.checksum=this.ntou4();if(!this.fFile.FindSinfoCheckum(b.checksum)){this.o-=4;delete b.checksum}else{this.last_read_checksum=b.checksum}}return b};a.TBuffer.prototype.CheckBytecount=function(b,c){if((b.bytecnt!==undefined)&&(b.off+b.bytecnt!==this.o)){if(c!=null){console.log("Missmatch in "+c+" bytecount expected = "+b.bytecnt+"  got = "+(this.o-b.off))}this.o=b.off+b.bytecnt;return false}return true};a.TBuffer.prototype.ReadString=function(){return this.ReadFastString(-1)};a.TBuffer.prototype.ReadTString=function(){var b=this.ntou1();if(b==255){b=this.ntou4()}if(b==0){return""}var c=this.o;this.o+=b;return(this.codeAt(c)==0)?"":this.substring(c,c+b)};a.TBuffer.prototype.ReadFastString=function(f){var d="",e,b=false;for(var c=0;(f<0)||(c<f);++c){e=this.ntou1();if(e==0){b=true;if(f<0){break}}if(!b){d+=String.fromCharCode(e)}}return d};a.TBuffer.prototype.ntou1=function(){return this.arr.getUint8(this.o++)};a.TBuffer.prototype.ntou2=function(){var b=this.o;this.o+=2;return this.arr.getUint16(b)};a.TBuffer.prototype.ntou4=function(){var b=this.o;this.o+=4;return this.arr.getUint32(b)};a.TBuffer.prototype.ntou8=function(){var c=this.arr.getUint32(this.o);this.o+=4;var b=this.arr.getUint32(this.o);this.o+=4;return c*4294967296+b};a.TBuffer.prototype.ntoi1=function(){return this.arr.getInt8(this.o++)};a.TBuffer.prototype.ntoi2=function(){var b=this.o;this.o+=2;return this.arr.getInt16(b)};a.TBuffer.prototype.ntoi4=function(){var b=this.o;this.o+=4;return this.arr.getInt32(b)};a.TBuffer.prototype.ntoi8=function(){var c=this.arr.getUint32(this.o);this.o+=4;var b=this.arr.getUint32(this.o);this.o+=4;if(c<2147483648){return c*4294967296+b}return -1-((~c)*4294967296+~b)};a.TBuffer.prototype.ntof=function(){var b=this.o;this.o+=4;return this.arr.getFloat32(b)};a.TBuffer.prototype.ntod=function(){var b=this.o;this.o+=8;return this.arr.getFloat64(b)};a.TBuffer.prototype.ReadFastArray=function(g,d){var f,c=0,e=this.o,b=this.arr;switch(d){case a.IO.kDouble:f=new Float64Array(g);for(;c<g;++c,e+=8){f[c]=b.getFloat64(e)}break;case a.IO.kFloat:f=new Float32Array(g);for(;c<g;++c,e+=4){f[c]=b.getFloat32(e)}break;case a.IO.kLong:case a.IO.kLong64:f=new Float64Array(g);for(;c<g;++c){f[c]=this.ntoi8()}return f;case a.IO.kULong:case a.IO.kULong64:f=new Float64Array(g);for(;c<g;++c){f[c]=this.ntou8()}return f;case a.IO.kInt:case a.IO.kCounter:f=new Int32Array(g);for(;c<g;++c,e+=4){f[c]=b.getInt32(e)}break;case a.IO.kBits:case a.IO.kUInt:f=new Uint32Array(g);for(;c<g;++c,e+=4){f[c]=b.getUint32(e)}break;case a.IO.kShort:f=new Int16Array(g);for(;c<g;++c,e+=2){f[c]=b.getInt16(e)}break;case a.IO.kUShort:f=new Uint16Array(g);for(;c<g;++c,e+=2){f[c]=b.getUint16(e)}break;case a.IO.kChar:f=new Int8Array(g);for(;c<g;++c){f[c]=b.getInt8(e++)}break;case a.IO.kBool:case a.IO.kUChar:f=new Uint8Array(g);for(;c<g;++c){f[c]=b.getUint8(e++)}break;case a.IO.kTString:f=new Array(g);for(;c<g;++c){f[c]=this.ReadTString()}return f;case a.IO.kDouble32:throw new Error("kDouble32 should not be used in ReadFastArray");case a.IO.kFloat16:throw new Error("kFloat16 should not be used in ReadFastArray");default:f=new Uint32Array(g);for(;c<g;++c,e+=4){f[c]=b.getUint32(e)}break}this.o=e;return f};a.TBuffer.prototype.can_extract=function(b){for(var c=0;c<b.length;c+=2){if(b[c]+b[c+1]>this.length){return false}}return true};a.TBuffer.prototype.extract=function(b){if(!this.arr||!this.arr.buffer||!this.can_extract(b)){return null}if(b.length===2){return new DataView(this.arr.buffer,this.arr.byteOffset+b[0],b[1])}var c=new Array(b.length/2);for(var d=0;d<b.length;d+=2){c[d/2]=new DataView(this.arr.buffer,this.arr.byteOffset+b[d],b[d+1])}return c};a.TBuffer.prototype.codeAt=function(b){return this.arr.getUint8(b)};a.TBuffer.prototype.substring=function(c,b){var d="";for(var e=c;e<b;++e){d+=String.fromCharCode(this.arr.getUint8(e))}return d};a.IO.GetArrayKind=function(b){if((b==="TString")||(b==="string")||(a.IO.CustomStreamers[b]==="TString")){return 0}if((b.length<7)||(b.indexOf("TArray")!==0)){return -1}if(b.length==7){switch(b[6]){case"I":return a.IO.kInt;case"D":return a.IO.kDouble;case"F":return a.IO.kFloat;case"S":return a.IO.kShort;case"C":return a.IO.kChar;case"L":return a.IO.kLong;default:return -1}}return b=="TArrayL64"?a.IO.kLong64:-1};a.TBuffer.prototype.ReadNdimArray=function(h,d){var j=h.fArrayDim,l=h.fMaxIndex,i;if((j<1)&&(h.fArrayLength>0)){j=1;l=[h.fArrayLength]}if(h.minus1){--j}if(j<1){return d(this,h)}if(j===1){i=new Array(l[0]);for(var c=0;c<l[0];++c){i[c]=d(this,h)}}else{if(j===2){i=new Array(l[0]);for(var c=0;c<l[0];++c){var b=new Array(l[1]);for(var e=0;e<l[1];++e){b[e]=d(this,h)}i[c]=b}}else{var g=[],f=[],e;for(e=0;e<j;++e){g[e]=0;f[e]=[]}i=f[0];while(g[0]<l[0]){e=j-1;f[e].push(d(this,h));++g[e];while((g[e]===l[e])&&(e>0)){g[e]=0;f[e-1].push(f[e]);f[e]=[];++g[--e]}}}}return i};a.TBuffer.prototype.ReadTKey=function(c){if(!c){c={}}this.ClassStreamer(c,"TKey");var b=c.fName.replace(/['"]/g,"");if(b!==c.fName){c.fRealName=c.fName;c.fName=b}return c};a.TBuffer.prototype.ReadBasketEntryOffset=function(b,c){this.locate(b.fLast-c);if(this.remain()<=0){if(!b.fEntryOffset&&(b.fNevBuf<=1)){b.fEntryOffset=[b.fKeylen]}if(!b.fEntryOffset){console.warn("No fEntryOffset when expected for basket with",b.fNevBuf,"entries")}return}b.fEntryOffset=this.ReadFastArray(this.ntoi4(),a.IO.kInt);if(!b.fEntryOffset){b.fEntryOffset=[b.fKeylen]}if(this.remain()>0){b.fDisplacement=this.ReadFastArray(this.ntoi4(),a.IO.kInt)}else{b.fDisplacement=undefined}return b};a.TBuffer.prototype.ReadClass=function(){var f={name:-1},b=0,e=this.ntou4(),d=this.o;if(!(e&a.IO.kByteCountMask)||(e==a.IO.kNewClassTag)){b=e;e=0}else{b=this.ntou4()}if(!(b&a.IO.kClassMask)){f.objtag=b+this.fDisplacement;return f}if(b==a.IO.kNewClassTag){f.name=this.ReadFastString(-1);if(this.GetMappedClass(this.fTagOffset+d+a.IO.kMapOffset)===-1){this.MapClass(this.fTagOffset+d+a.IO.kMapOffset,f.name)}}else{var c=(b&~a.IO.kClassMask)+this.fDisplacement;f.name=this.GetMappedClass(c);if(f.name===-1){a.alert("Did not found class with tag "+c)}}return f};a.TBuffer.prototype.ReadObjectAny=function(){var c=this.fTagOffset+this.o+a.IO.kMapOffset,e=this.ReadClass();if("objtag" in e){return this.GetMappedObject(e.objtag)}if(e.name===-1){return null}var b=a.IO.GetArrayKind(e.name),d;if(b===0){d=this.ReadTString()}else{if(b>0){d=this.ReadFastArray(this.ntou4(),b);this.MapObject(c,d)}else{d={};this.MapObject(c,d);this.ClassStreamer(d,e.name)}}return d};a.TBuffer.prototype.ClassStreamer=function(e,d){if(e._typename===undefined){e._typename=d}var g=a.IO.DirectStreamers[d];if(g){g(this,e);return e}var b=this.ReadVersion();var c=this.fFile.GetStreamer(d,b);if(c!==null){for(var f=0;f<c.length;++f){c[f].func(this,e)}}else{a.addMethods(e)}this.CheckBytecount(b,d);return e};a.CreateTBuffer=function(b,e,c,d){return new a.TBuffer(b,e,c,d)};a.ReconstructObject=function(f,b,e){var d=new a.TFile;var c=a.CreateTBuffer(e,0,d);d.ExtractStreamerInfos(c);var g={};c=a.CreateTBuffer(b,0,d);c.MapObject(g,1);c.ClassStreamer(g,f);return g};a.TDirectory=function(c,d,b){if(!(this instanceof arguments.callee)){throw new Error("you must use new to instantiate this class","JSROOT.TDirectory.ctor")}this.fFile=c;this._typename="TDirectory";this.dir_name=d;this.dir_cycle=b;this.fKeys=[];return this};a.TDirectory.prototype.GetKey=function(e,c,b){if(typeof c!="number"){c=-1}var g=null;for(var d=0;d<this.fKeys.length;++d){var k=this.fKeys[d];if(!k||(k.fName!==e)){continue}if(k.fCycle==c){g=k;break}if((c<0)&&(!g||(k.fCycle>g.fCycle))){g=k}}if(g){a.CallBack(b,g);return g}var j=e.lastIndexOf("/");while(j>0){var f=e.substr(0,j),l=e.substr(j+1),h=this.GetKey(f);if((h!==null)&&(typeof b=="function")&&(h.fClassName.indexOf("TDirectory")==0)){this.fFile.ReadObject(this.dir_name+"/"+f,1,function(i){if(i){i.GetKey(l,c,b)}});return null}j=e.lastIndexOf("/",j-1)}a.CallBack(b,null);return null};a.TDirectory.prototype.ReadKeys=function(e,b){e.ClassStreamer(this,"TDirectory");if((this.fSeekKeys<=0)||(this.fNbytesKeys<=0)){return a.CallBack(b,this)}var c=this,d=this.fFile;d.ReadBuffer([this.fSeekKeys,this.fNbytesKeys],function(f){if(!f){return a.CallBack(b,null)}var g=a.CreateTBuffer(f,0,d);g.ReadTKey();var j=g.ntoi4();for(var h=0;h<j;++h){c.fKeys.push(g.ReadTKey())}d.fDirectories.push(c);delete g;a.CallBack(b,c)})};a.TFile=function(c,b){if(!(this instanceof arguments.callee)){throw new Error("you must use new to instantiate this class","JSROOT.TFile.ctor")}this._typename="TFile";this.fEND=0;this.fFullURL=c;this.fURL=c;this.fAcceptRanges=true;this.fUseStampPar="stamp="+(new Date).getTime();this.fFileContent=null;this.fMaxRanges=200;this.fDirectories=[];this.fKeys=[];this.fSeekInfo=0;this.fNbytesInfo=0;this.fTagOffset=0;this.fStreamers=0;this.fStreamerInfos=null;this.fFileName="";this.fStreamers=[];this.fBasicTypes={};if(typeof this.fURL!="string"){return this}if(this.fURL[this.fURL.length-1]==="+"){this.fURL=this.fURL.substr(0,this.fURL.length-1);this.fAcceptRanges=false}if(this.fURL[this.fURL.length-1]==="-"){this.fURL=this.fURL.substr(0,this.fURL.length-1);this.fUseStampPar=false}if(this.fURL.indexOf("file://")==0){this.fUseStampPar=false;this.fAcceptRanges=false}var e=Math.max(this.fURL.lastIndexOf("/"),this.fURL.lastIndexOf("\\"));this.fFileName=e>=0?this.fURL.substr(e+1):this.fURL;if(!this.fAcceptRanges){this.ReadKeys(b)}else{var d=this;a.NewHttpRequest(this.fURL,"head",function(g){if(g==null){return a.CallBack(b,null)}var h=g.getResponseHeader("Accept-Ranges");if(!h){d.fAcceptRanges=false}var f=g.getResponseHeader("Content-Length");if(f){d.fEND=parseInt(f)}else{d.fAcceptRanges=false}d.ReadKeys(b)}).send(null)}return this};a.TFile.prototype.ReadBuffer=function(g,i,c,e){if((this.fFileContent!==null)&&!c&&(!this.fAcceptRanges||this.fFileContent.can_extract(g))){return i(this.fFileContent.extract(g))}var d=this,m=d.fURL,h=0,l=0,f=[],k;if(c&&(typeof c==="string")&&(c.length>0)){var j=m.lastIndexOf("/");m=(j<0)?c:m.substr(0,j+1)+c}function b(y){if(y){h=l;l=Math.min(h+d.fMaxRanges*2,g.length);if(h>=g.length){return i(f)}}var v=m,o="bytes",x=0;if(d.fUseStampPar){v+=((v.indexOf("?")<0)?"?":"&")+d.fUseStampPar}for(var r=h;r<l;r+=2){o+=(r>h?",":"=")+(g[r]+"-"+(g[r]+g[r+1]-1));x+=g[r+1]}if(l-h>2){x+=(l-h)*60}var z=a.NewHttpRequest(v,"buf",k);if(d.fAcceptRanges){z.setRequestHeader("Range",o);z.expected_size=Math.max(Math.round(1.1*x),x+200)}if(e&&(typeof z.addEventListener==="function")){var u=0,t=0,w=0;for(var r=1;r<g.length;r+=2){w+=g[r];if(r<h){u+=g[r]}if(r<l){t+=g[r]}}if(!w){w=1}var s=u/w,q=(t-u)/w;z.addEventListener("progress",function p(n){if(n.lengthComputable){e(s+q*n.loaded/n.total)}})}z.send(null)}k=function(H){if(!H&&d.fUseStampPar&&(g[0]===0)&&(g.length===2)){d.fUseStampPar=false;return b()}if(H&&(g[0]===0)&&(g.length===2)&&!d.fFileContent){d.fFileContent=a.CreateTBuffer((typeof H=="string")?H:new DataView(H));if(!d.fAcceptRanges){d.fEND=d.fFileContent.length}return i(d.fFileContent.extract(g))}if(!H){if((h===0)&&(l>2)&&(d.fMaxRanges>1)){if(l/2>200){d.fMaxRanges=200}else{if(l/2>50){d.fMaxRanges=50}else{if(l/2>20){d.fMaxRanges=20}else{if(l/2>5){d.fMaxRanges=5}else{d.fMaxRanges=1}}}}l=Math.min(l,d.fMaxRanges*2);return b()}return i(null)}if(l-h===2){var F=new DataView(H);if(g.length===2){return i(F)}f.push(F);return b(true)}var q=this.getResponseHeader("Content-Type"),z=(typeof q==="string")&&(q.indexOf("multipart")>=0),y=new DataView(H);if(!z){var r=this.getResponseHeader("Content-Range"),u=0,x=-1;if(r&&r.indexOf("bytes")>=0){var C=r.substr(r.indexOf("bytes")+6).split(/[\s-\/]+/);if(C.length===3){u=parseInt(C[0]);x=parseInt(C[1]);if(isNaN(u)||isNaN(x)||(u>x)){u=0;x=-1}}}var A=(u<=x);for(var D=h;D<l;D+=2){if((g[D]<u)||(g[D]+g[D+1]-1>x)){A=false}}if(A){for(var D=h;D<l;D+=2){f.push(new DataView(H,g[D]-u,g[D+1]))}return b(true)}console.error("Server returns normal response when multipart was requested, disable multirange support");if((d.fMaxRanges===1)||(h!==0)){return i(null)}d.fMaxRanges=1;l=Math.min(l,d.fMaxRanges*2);return b()}var G=q.indexOf("boundary="),E="",D=h,B=0;if(G>0){E="--"+q.substr(G+9)}else{console.error("Did not found boundary id in the response header")}while(D<l){var t,s=y.getUint8(B),v=0,w="",p=false,u=0,x=-1;while((B<y.byteLength-1)&&!p&&(v<5)){t=s;s=y.getUint8(B+1);if((t==13)&&(s==10)){if((w.length>2)&&(w.substr(0,2)=="--")&&(w!==E)){console.error("Decode multipart message, expect boundary ",E,"got ",w);return i(null)}w=w.toLowerCase();if((w.indexOf("content-range")>=0)&&(w.indexOf("bytes")>0)){var C=w.substr(w.indexOf("bytes")+6).split(/[\s-\/]+/);if(C.length===3){u=parseInt(C[0]);x=parseInt(C[1]);if(isNaN(u)||isNaN(x)||(u>x)){u=0;x=-1}}else{console.error("Fail to decode content-range",w,C)}}if((v>1)&&(w.length===0)){p=true}B++;v++;w="";s=y.getUint8(B+1)}else{w+=String.fromCharCode(t)}B++}if(!p){console.error("Cannot decode header in multipart message ");return i(null)}if(u>x){f.push(new DataView(H,B,g[D+1]));B+=g[D+1];D+=2}else{while((D<l)&&(g[D]>=u)&&(g[D]+g[D+1]-1<=x)){f.push(new DataView(H,B+g[D]-u,g[D+1]));D+=2}B+=(x-u+1)}}b(true)};b(true)};a.TFile.prototype.GetDir=function(e,d){if((d==null)&&(typeof e=="string")){var f=e.lastIndexOf(";");if(f>0){d=e.substr(f+1);e=e.substr(0,f)}}for(var c=0;c<this.fDirectories.length;++c){var b=this.fDirectories[c];if(b.dir_name!=e){continue}if((d!==undefined)&&(b.dir_cycle!==d)){continue}return b}return null};a.TFile.prototype.GetKey=function(f,d,b){if(typeof d!="number"){d=-1}var h=null;for(var e=0;e<this.fKeys.length;++e){var l=this.fKeys[e];if(!l||(l.fName!==f)){continue}if(l.fCycle==d){h=l;break}if((d<0)&&(!h||(l.fCycle>h.fCycle))){h=l}}if(h){a.CallBack(b,h);return h}var k=f.lastIndexOf("/");while(k>0){var g=f.substr(0,k),m=f.substr(k+1),c=this.GetDir(g);if(c!=null){return c.GetKey(m,d,b)}var j=this.GetKey(g);if((j!==null)&&(b!=null)&&(j.fClassName.indexOf("TDirectory")==0)){this.ReadObject(g,function(i){if(i){i.GetKey(m,d,b)}});return null}k=f.lastIndexOf("/",k-1)}a.CallBack(b,null);return null};a.TFile.prototype.ReadObjBuffer=function(c,d){var b=this;this.ReadBuffer([c.fSeekKey+c.fKeylen,c.fNbytes-c.fKeylen],function(g){if(g==null){return d(null)}var e=null;if(c.fObjlen<=c.fNbytes-c.fKeylen){e=a.CreateTBuffer(g,0,b)}else{var f=a.R__unzip(g,c.fObjlen);if(f==null){return d(null)}e=a.CreateTBuffer(f,0,b)}e.fTagOffset=c.fKeylen;d(e)})};a.TFile.prototype.AddReadTree=function(b){if(a.TreeMethods){return a.extend(b,a.TreeMethods)}if(this.readTrees===undefined){this.readTrees=[]}if(this.readTrees.indexOf(b)<0){this.readTrees.push(b)}};a.TFile.prototype.ReadObject=function(b,e,d){if(typeof e=="function"){d=e;e=-1}var f=b.lastIndexOf(";");if(f>0){e=parseInt(b.slice(f+1));b=b.slice(0,f)}if(typeof e!="number"){e=-1}while(b.length&&(b[0]=="/")){b=b.substr(1)}var c=this;this.GetKey(b,e,function(i){if(i==null){return a.CallBack(d,null)}if((b=="StreamerInfo")&&(i.fClassName=="TList")){return c.fStreamerInfos}var g=false;if((i.fClassName=="TDirectory"||i.fClassName=="TDirectoryFile")){g=true;var h=c.GetDir(b,e);if(h){return a.CallBack(d,h)}}c.ReadObjBuffer(i,function(k){if(!k){return a.CallBack(d,null)}if(g){var j=new a.TDirectory(c,b,e);j.fTitle=i.fTitle;return j.ReadKeys(k,d)}var l={};k.MapObject(1,l);k.ClassStreamer(l,i.fClassName);if(i.fClassName==="TF1"){return c.ReadFormulas(l,d,-1)}if(c.readTrees){return a.AssertPrerequisites("tree",function(){if(c.readTrees){c.readTrees.forEach(function(m){a.extend(m,a.TreeMethods)});delete c.readTrees}a.CallBack(d,l)})}a.CallBack(d,l)})})};a.TFile.prototype.ReadFormulas=function(f,d,c){var e=c;while(++e<this.fKeys.length){if(this.fKeys[e].fClassName=="TFormula"){break}}if(e>=this.fKeys.length){return a.CallBack(d,f)}var b=this;this.ReadObject(this.fKeys[e].fName,this.fKeys[e].fCycle,function(g){f.addFormula(g);b.ReadFormulas(f,d,e)})};a.TFile.prototype.ExtractStreamerInfos=function(b){if(!b){return}var j={};b.MapObject(1,j);b.ClassStreamer(j,"TList");j._typename="TStreamerInfoList";this.fStreamerInfos=j;if(typeof a.addStreamerInfos==="function"){a.addStreamerInfos(j)}for(var g=0;g<j.arr.length;++g){var i=j.arr[g];if(!i.fElements){continue}for(var f=0;f<i.fElements.arr.length;++f){var c=i.fElements.arr[f];if(!c.fTypeName||!c.fType){continue}var d=c.fType,h=c.fTypeName;if(d>=60){if((d===a.IO.kStreamer)&&(c._typename=="TStreamerSTL")&&c.fSTLtype&&c.fCtype&&(c.fCtype<20)){var m=(a.IO.StlNames[c.fSTLtype]||"undef")+"<";if((h.indexOf(m)===0)&&(h[h.length-1]==">")){d=c.fCtype;h=h.substr(m.length,h.length-m.length-1).trim();if((c.fSTLtype===a.IO.kSTLmap)||(c.fSTLtype===a.IO.kSTLmultimap)){if(h.indexOf(",")>0){h=h.substr(0,h.indexOf(",")).trim()}else{continue}}}}if(d>=60){continue}}else{if((d>20)&&(h[h.length-1]=="*")){h=h.substr(0,h.length-1)}d=d%20}var e=a.IO.GetTypeId(h);if(e===d){continue}if((d===a.IO.kBits)&&(e===a.IO.kUInt)){continue}if((d===a.IO.kCounter)&&(e===a.IO.kInt)){continue}if(h&&d&&(this.fBasicTypes[h]!==d)){this.fBasicTypes[h]=d;if(!a.BatchMode){console.log("Extract basic data type",d,h)}}}}};a.TFile.prototype.ReadKeys=function(b){var c=this;this.ReadBuffer([0,1024],function(d){if(!d){return a.CallBack(b,null)}var f=a.CreateTBuffer(d,0,c);if(f.substring(0,4)!=="root"){a.alert("NOT A ROOT FILE! "+c.fURL);return a.CallBack(b,null)}f.shift(4);c.fVersion=f.ntou4();c.fBEGIN=f.ntou4();if(c.fVersion<1000000){c.fEND=f.ntou4();c.fSeekFree=f.ntou4();c.fNbytesFree=f.ntou4();var g=f.ntoi4();c.fNbytesName=f.ntou4();c.fUnits=f.ntou1();c.fCompress=f.ntou4();c.fSeekInfo=f.ntou4();c.fNbytesInfo=f.ntou4()}else{c.fEND=f.ntou8();c.fSeekFree=f.ntou8();c.fNbytesFree=f.ntou4();var g=f.ntou4();c.fNbytesName=f.ntou4();c.fUnits=f.ntou1();c.fCompress=f.ntou4();c.fSeekInfo=f.ntou8();c.fNbytesInfo=f.ntou4()}if(!c.fSeekInfo||!c.fNbytesInfo){return a.CallBack(b,null)}if(!c.fNbytesName||this.fNbytesName>100000){a.console("Init : cannot read directory info of file "+c.fURL);return a.CallBack(b,null)}var e=c.fNbytesName+22;e+=4;e+=4;e+=18;if(c.fVersion>=40000){e+=12}c.ReadBuffer([c.fBEGIN,Math.max(300,e)],function(i){if(!i){return a.CallBack(b,null)}var h=a.CreateTBuffer(i,0,c);c.fTitle=h.ReadTKey().fTitle;h.locate(c.fNbytesName);h.ClassStreamer(c,"TDirectory");if(!c.fSeekKeys){a.console("Empty keys list in "+c.fURL);return a.CallBack(b,null)}c.ReadBuffer([c.fSeekKeys,c.fNbytesKeys,c.fSeekInfo,c.fNbytesInfo],function(o){if(!o){return a.CallBack(b,null)}var m=a.CreateTBuffer(o[0],0,c);m.ReadTKey();var n=m.ntoi4();for(var k=0;k<n;++k){c.fKeys.push(m.ReadTKey())}var j=a.CreateTBuffer(o[1],0,c);var l=j.ReadTKey();if(!l){return a.CallBack(b,null)}c.fKeys.push(l);c.ReadObjBuffer(l,function(p){if(p){c.ExtractStreamerInfos(p)}return a.CallBack(b,c)});delete j;delete m});delete h});delete f})};a.TFile.prototype.ReadDirectory=function(d,c,b){return this.ReadObject(d,c,b)};a.IO.AddClassMethods=function(d,e){if(e===null){return e}var b=a.getMethods(d);if(b!==null){for(var c in b){if((typeof b[c]==="function")||(c.indexOf("_")==0)){e.push({name:c,method:b[c],func:function(f,g){g[this.name]=this.method}})}}}return e};a.TFile.prototype.FindStreamerInfo=function(f,c,b){if(this.fStreamerInfos){for(var e=0;e<this.fStreamerInfos.arr.length;++e){var d=this.fStreamerInfos.arr[e];if((b!==undefined)&&(d.fCheckSum===b)){return d}if(d.fName!==f){continue}if(b!==undefined){continue}if((c!==undefined)&&(d.fClassVersion!==c)){continue}return d}}return null};a.TFile.prototype.FindSinfoCheckum=function(f){if(!this.fStreamerInfos){return null}var c=this.fStreamerInfos.cache,b=this.fStreamerInfos.arr;if(!c){c=this.fStreamerInfos.cache={}}var d=c[f];if(d!==undefined){return d}for(var e=0;e<b.length;++e){d=b[e];if(d.fCheckSum===f){c[f]=d;return d}}c[f]=null;return null};a.IO.GetPairStreamer=function(b,d,c){if(!b){if(d.indexOf("pair")!==0){return null}b=c.FindStreamerInfo(d);if(!b){var h=d.indexOf("<"),g=d.lastIndexOf(">");function f(){var k="",l=h+1,j=0;while((l<g)&&(j>=0)){switch(d[l]){case"<":j++;break;case",":if(j===0){j--}break;case">":j--;break}if(j>=0){k+=d[l]}l++}h=l-1;return k.trim()}b={_typename:"TStreamerInfo",fVersion:1,fName:d,fElements:a.Create("TList")};b.fElements.Add(a.IO.CreateStreamerElement("first",f(),c));b.fElements.Add(a.IO.CreateStreamerElement("second",f(),c))}}var e=c.GetStreamer(d,null,b);if(!e){return null}if(e.length!==2){console.error("Streamer for pair class contains ",e.length,"elements");return null}for(var i=0;i<2;++i){if(e[i].readelem&&!e[i].pair_name){e[i].pair_name=(i==0)?"first":"second";e[i].func=function(j,k){k[this.pair_name]=this.readelem(j)}}}return e};a.IO.CreateMember=function(f,c){var e={name:f.fName,type:f.fType,fArrayLength:f.fArrayLength,fArrayDim:f.fArrayDim,fMaxIndex:f.fMaxIndex};if(f.fTypeName==="BASE"){if(a.IO.GetArrayKind(e.name)>0){e.name="fArray";e.type=a.IO.kAny}else{e.type=a.IO.kBase}}switch(e.type){case a.IO.kBase:e.base=f.fBaseVersion;e.basename=f.fName;e.func=function(k,l){k.ClassStreamer(l,this.basename)};break;case a.IO.kShort:e.func=function(k,l){l[this.name]=k.ntoi2()};break;case a.IO.kInt:case a.IO.kCounter:e.func=function(k,l){l[this.name]=k.ntoi4()};break;case a.IO.kLong:case a.IO.kLong64:e.func=function(k,l){l[this.name]=k.ntoi8()};break;case a.IO.kDouble:e.func=function(k,l){l[this.name]=k.ntod()};break;case a.IO.kFloat:e.func=function(k,l){l[this.name]=k.ntof()};break;case a.IO.kLegacyChar:case a.IO.kUChar:e.func=function(k,l){l[this.name]=k.ntou1()};break;case a.IO.kUShort:e.func=function(k,l){l[this.name]=k.ntou2()};break;case a.IO.kBits:case a.IO.kUInt:e.func=function(k,l){l[this.name]=k.ntou4()};break;case a.IO.kULong64:case a.IO.kULong:e.func=function(k,l){l[this.name]=k.ntou8()};break;case a.IO.kBool:e.func=function(k,l){l[this.name]=k.ntou1()!=0};break;case a.IO.kOffsetL+a.IO.kBool:case a.IO.kOffsetL+a.IO.kInt:case a.IO.kOffsetL+a.IO.kCounter:case a.IO.kOffsetL+a.IO.kDouble:case a.IO.kOffsetL+a.IO.kUChar:case a.IO.kOffsetL+a.IO.kShort:case a.IO.kOffsetL+a.IO.kUShort:case a.IO.kOffsetL+a.IO.kBits:case a.IO.kOffsetL+a.IO.kUInt:case a.IO.kOffsetL+a.IO.kULong:case a.IO.kOffsetL+a.IO.kULong64:case a.IO.kOffsetL+a.IO.kLong:case a.IO.kOffsetL+a.IO.kLong64:case a.IO.kOffsetL+a.IO.kFloat:if(f.fArrayDim<2){e.arrlength=f.fArrayLength;e.func=function(k,l){l[this.name]=k.ReadFastArray(this.arrlength,this.type-a.IO.kOffsetL)}}else{e.arrlength=f.fMaxIndex[f.fArrayDim-1];e.minus1=true;e.func=function(k,l){l[this.name]=k.ReadNdimArray(this,function(m,n){return m.ReadFastArray(n.arrlength,n.type-a.IO.kOffsetL)})}}break;case a.IO.kOffsetL+a.IO.kChar:if(f.fArrayDim<2){e.arrlength=f.fArrayLength;e.func=function(k,l){l[this.name]=k.ReadFastString(this.arrlength)}}else{e.minus1=true;e.arrlength=f.fMaxIndex[f.fArrayDim-1];e.func=function(k,l){l[this.name]=k.ReadNdimArray(this,function(m,n){return m.ReadFastString(n.arrlength)})}}break;case a.IO.kOffsetP+a.IO.kBool:case a.IO.kOffsetP+a.IO.kInt:case a.IO.kOffsetP+a.IO.kDouble:case a.IO.kOffsetP+a.IO.kUChar:case a.IO.kOffsetP+a.IO.kShort:case a.IO.kOffsetP+a.IO.kUShort:case a.IO.kOffsetP+a.IO.kBits:case a.IO.kOffsetP+a.IO.kUInt:case a.IO.kOffsetP+a.IO.kULong:case a.IO.kOffsetP+a.IO.kULong64:case a.IO.kOffsetP+a.IO.kLong:case a.IO.kOffsetP+a.IO.kLong64:case a.IO.kOffsetP+a.IO.kFloat:e.cntname=f.fCountName;e.func=function(k,l){if(k.ntou1()===1){l[this.name]=k.ReadFastArray(l[this.cntname],this.type-a.IO.kOffsetP)}else{l[this.name]=new Array()}};break;case a.IO.kOffsetP+a.IO.kChar:e.cntname=f.fCountName;e.func=function(k,l){if(k.ntou1()===1){l[this.name]=k.ReadFastString(l[this.cntname])}else{l[this.name]=null}};break;case a.IO.kDouble32:case a.IO.kOffsetL+a.IO.kDouble32:case a.IO.kOffsetP+a.IO.kDouble32:e.double32=true;case a.IO.kFloat16:case a.IO.kOffsetL+a.IO.kFloat16:case a.IO.kOffsetP+a.IO.kFloat16:if(f.fFactor!==0){e.factor=1/f.fFactor;e.min=f.fXmin;e.read=function(k){return k.ntou4()*this.factor+this.min}}else{if((f.fXmin===0)&&e.double32){e.read=function(k){return k.ntof()}}else{e.nbits=Math.round(f.fXmin);if(e.nbits===0){e.nbits=12}e.dv=new DataView(new ArrayBuffer(8),0);e.read=function(l){var k=l.ntou1(),m=l.ntou2();this.dv.setUint32(0,(k<<23)|((m&((1<<(this.nbits+1))-1))<<(23-this.nbits)));return((1<<(this.nbits+1)&m)?-1:1)*this.dv.getFloat32(0)}}}e.readarr=function(m,l){var k=this.double32?new Float64Array(l):new Float32Array(l);for(var o=0;o<l;++o){k[o]=this.read(m)}return k};if(e.type<a.IO.kOffsetL){e.func=function(k,l){l[this.name]=this.read(k)}}else{if(e.type>a.IO.kOffsetP){e.cntname=f.fCountName;e.func=function(k,l){if(k.ntou1()===1){l[this.name]=this.readarr(k,l[this.cntname])}else{l[this.name]=null}}}else{if(f.fArrayDim<2){e.arrlength=f.fArrayLength;e.func=function(k,l){l[this.name]=this.readarr(k,this.arrlength)}}else{e.arrlength=f.fMaxIndex[f.fArrayDim-1];e.minus1=true;e.func=function(k,l){l[this.name]=k.ReadNdimArray(this,function(m,n){return n.readarr(m,n.arrlength)})}}}}break;case a.IO.kAnyP:case a.IO.kObjectP:e.func=function(k,l){l[this.name]=k.ReadNdimArray(this,function(m){return m.ReadObjectAny()})};break;case a.IO.kAny:case a.IO.kAnyp:case a.IO.kObjectp:case a.IO.kObject:var d=(f.fTypeName==="BASE")?f.fName:f.fTypeName;if(d[d.length-1]=="*"){d=d.substr(0,d.length-1)}var i=a.IO.GetArrayKind(d);if(i>0){e.arrkind=i;e.func=function(k,l){l[this.name]=k.ReadFastArray(k.ntou4(),this.arrkind)}}else{if(i===0){e.func=function(k,l){l[this.name]=k.ReadTString()}}else{e.classname=d;if(f.fArrayLength>1){e.func=function(k,l){l[this.name]=k.ReadNdimArray(this,function(m,n){return m.ClassStreamer({},n.classname)})}}else{e.func=function(k,l){l[this.name]=k.ClassStreamer({},this.classname)}}}}break;case a.IO.kOffsetL+a.IO.kObject:case a.IO.kOffsetL+a.IO.kAny:case a.IO.kOffsetL+a.IO.kAnyp:case a.IO.kOffsetL+a.IO.kObjectp:var d=f.fTypeName;if(d[d.length-1]=="*"){d=d.substr(0,d.length-1)}e.arrkind=a.IO.GetArrayKind(d);if(e.arrkind<0){e.classname=d}e.func=function(k,l){l[this.name]=k.ReadNdimArray(this,function(m,n){if(n.arrkind>0){return m.ReadFastArray(m.ntou4(),n.arrkind)}if(n.arrkind===0){return m.ReadTString()}return m.ClassStreamer({},n.classname)})};break;case a.IO.kChar:e.func=function(k,l){l[this.name]=k.ntoi1()};break;case a.IO.kCharStar:e.func=function(l,m){var k=l.ntoi4();m[this.name]=l.substring(l.o,l.o+k);l.o+=k};break;case a.IO.kTString:e.func=function(k,l){l[this.name]=k.ReadTString()};break;case a.IO.kTObject:case a.IO.kTNamed:e.typename=f.fTypeName;e.func=function(k,l){l[this.name]=k.ClassStreamer({},this.typename)};break;case a.IO.kOffsetL+a.IO.kTString:case a.IO.kOffsetL+a.IO.kTObject:case a.IO.kOffsetL+a.IO.kTNamed:e.typename=f.fTypeName;e.func=function(l,m){var k=l.ReadVersion();m[this.name]=l.ReadNdimArray(this,function(n,o){if(o.typename==="TString"){return n.ReadTString()}return n.ClassStreamer({},o.typename)});l.CheckBytecount(k,this.typename+"[]")};break;case a.IO.kStreamLoop:case a.IO.kOffsetL+a.IO.kStreamLoop:e.typename=f.fTypeName;e.cntname=f.fCountName;if(e.typename.lastIndexOf("**")>0){e.typename=e.typename.substr(0,e.typename.lastIndexOf("**"));e.isptrptr=true}else{e.typename=e.typename.substr(0,e.typename.lastIndexOf("*"));e.isptrptr=false}if(e.isptrptr){e.readitem=function(k){return k.ReadObjectAny()}}else{e.arrkind=a.IO.GetArrayKind(e.typename);if(e.arrkind>0){e.readitem=function(k){return k.ReadFastArray(k.ntou4(),this.arrkind)}}else{if(e.arrkind===0){e.readitem=function(k){return k.ReadTString()}}else{e.readitem=function(k){return k.ClassStreamer({},this.typename)}}}}if(e.readitem!==undefined){e.read_loop=function(k,l){return k.ReadNdimArray(this,function(o,m){var p=new Array(l);for(var n=0;n<l;++n){p[n]=m.readitem(o)}return p})};e.func=function(l,n){var k=l.ReadVersion();var m=this.read_loop(l,n[this.cntname]);if(!l.CheckBytecount(k,this.typename)){m=null}n[this.name]=m};e.branch_func=function(m,p){var k=m.ReadVersion(),q=p[this.stl_size],o=new Array(q);for(var l=0;l<q;++l){var n=p[this.cntname][l];o[l]=this.read_loop(m,n)}if(!m.CheckBytecount(k,this.typename)){o=null}p[this.name]=o};e.objs_branch_func=function(n,p){var l=n.ReadVersion(),k=p[this.name0];for(var m=0;m<k.length;++m){var q=this.get(k,m),o=q[this.cntname];q[this.name]=this.read_loop(n,o)}n.CheckBytecount(l,this.typename)}}else{a.console("fail to provide function for "+f.fName+" ("+f.fTypeName+")  typ = "+f.fType);e.func=function(l,m){var k=l.ReadVersion();l.CheckBytecount(k);m[this.name]=ull}}break;case a.IO.kStreamer:e.typename=f.fTypeName;var j=(f.fSTLtype||0)%40;if((f._typename==="TStreamerSTLstring")||(e.typename=="string")||(e.typename=="string*")){e.readelem=function(k){return k.ReadTString()}}else{if((j===a.IO.kSTLvector)||(j===a.IO.kSTLlist)||(j===a.IO.kSTLdeque)||(j===a.IO.kSTLset)||(j===a.IO.kSTLmultiset)){var h=e.typename.indexOf("<"),g=e.typename.lastIndexOf(">");e.conttype=e.typename.substr(h+1,g-h-1).trim();e.typeid=a.IO.GetTypeId(e.conttype);if((e.typeid<0)&&c.fBasicTypes[e.conttype]){e.typeid=c.fBasicTypes[e.conttype];console.log("!!! Reuse basic type ",e.conttype," from file streamer infos")}if(f.fCtype&&(f.fCtype<20)&&(f.fCtype!==e.typeid)){console.warn("Contained type ",e.conttype,"not recognized as basic type",f.fCtype,"FORCE");e.typeid=f.fCtype}if(e.typeid>0){e.readelem=function(k){return k.ReadFastArray(k.ntoi4(),this.typeid)}}else{e.isptr=false;if(e.conttype.lastIndexOf("*")===e.conttype.length-1){e.isptr=true;e.conttype=e.conttype.substr(0,e.conttype.length-1)}if(f.fCtype===a.IO.kObjectp){e.isptr=true}e.arrkind=a.IO.GetArrayKind(e.conttype);e.readelem=a.IO.ReadVectorElement;if(!e.isptr&&(e.arrkind<0)){var b=a.IO.CreateStreamerElement("temp",e.conttype);if(b.fType===a.IO.kStreamer){b.$fictional=true;e.submember=a.IO.CreateMember(b,c)}}}}else{if((j===a.IO.kSTLmap)||(j===a.IO.kSTLmultimap)){var h=e.typename.indexOf("<"),g=e.typename.lastIndexOf(">");e.pairtype="pair<"+e.typename.substr(h+1,g-h-1)+">";e.si=c.FindStreamerInfo(e.pairtype);e.streamer=a.IO.GetPairStreamer(e.si,e.pairtype,c);if(!e.streamer||(e.streamer.length!==2)){a.console("Fail to build streamer for pair "+e.pairtype);delete e.streamer}if(e.streamer){e.readelem=a.IO.ReadMapElement}}else{if(j===a.IO.kSTLbitset){e.readelem=function(k,l){return k.ReadFastArray(k.ntou4(),a.IO.kBool)}}}}}if(!e.readelem){a.console("failed to crteate streamer for element "+e.typename+" "+e.name+" element "+f._typename+" STL type "+f.fSTLtype);e.func=function(l,m){var k=l.ReadVersion();l.CheckBytecount(k);m[this.name]=null}}else{if(!f.$fictional){e.read_version=function(l,m){if(m===0){return null}var n=l.o,k=l.ReadVersion();this.member_wise=((k.val&a.IO.kStreamedMemberWise)!==0);this.stl_version=undefined;if(this.member_wise){this.stl_version={val:l.ntoi2()};if(this.stl_version.val<=0){this.stl_version.checksum=l.ntou4()}}return k};e.func=function(l,n){var k=this.read_version(l);var m=l.ReadNdimArray(this,function(p,o){return o.readelem(p)});if(!l.CheckBytecount(k,this.typename)){m=null}n[this.name]=m};e.branch_func=function(m,p){var o=p[this.stl_size],l=new Array(o);var k=this.read_version(m,o);for(var q=0;q<o;++q){l[q]=m.ReadNdimArray(this,function(r,n){return n.readelem(r)})}if(k){m.CheckBytecount(k,"branch "+this.typename)}p[this.name]=l};e.split_func=function(m,l,p){var k=this.read_version(m);for(var o=0;o<p;++o){l[o][this.name]=m.ReadNdimArray(this,function(q,n){return n.readelem(q)})}m.CheckBytecount(k,this.typename)};e.objs_branch_func=function(m,o){var l=o[this.name0];var k=this.read_version(m,l.length);for(var q=0;q<l.length;++q){var p=this.get(l,q);p[this.name]=m.ReadNdimArray(this,function(r,n){return n.readelem(r)})}if(k){m.CheckBytecount(k,"branch "+this.typename)}}}}break;default:a.console("fail to provide function for "+f.fName+" ("+f.fTypeName+")  typ = "+f.fType);e.func=function(k,l){}}return e};a.TFile.prototype.GetStreamer=function(e,b,h){if(e=="TQObject"||e=="TBasket"){return null}var f,c=e;if(b){c+=(b.checksum?("$chksum"+b.checksum):("$ver"+b.val));f=this.fStreamers[c];if(f!==undefined){return f}}var g=a.IO.CustomStreamers[e];if(typeof g==="string"){return this.GetStreamer(g,b,h)}if(typeof g==="function"){f=[{typename:e,func:g}];return a.IO.AddClassMethods(e,f)}f=[];if(typeof g==="object"){if(!g.name&&!g.func){return g}f.push(g)}if(!h){h=this.FindStreamerInfo(e,b.val,b.checksum)}if(!h){delete this.fStreamers[c];if(!b.nowarning){console.warn("Not found streamer for",e,"ver",b.val,"checksum",b.checksum,c)}return null}if(h.fElements){for(var d=0;d<h.fElements.arr.length;++d){f.push(a.IO.CreateMember(h.fElements.arr[d],this))}}this.fStreamers[c]=f;return a.IO.AddClassMethods(e,f)};a.TFile.prototype.GetSplittedStreamer=function(e,g){if(!e){return g}if(!g){g=[]}for(var f=0;f<e.length;++f){var d=e[f];if(d.base===undefined){g.push(d);continue}if(d.basename=="TObject"){g.push({func:function(h,i){h.ntoi2();i.fUniqueID=h.ntou4();i.fBits=h.ntou4();if(i.fBits&a.IO.kIsReferenced){h.ntou2()}}});continue}var b={val:d.base};if(b.val===4294967295){b.val=1}var c=this.GetStreamer(d.basename,b);if(c){this.GetSplittedStreamer(c,g)}}return g};a.TFile.prototype.Delete=function(){this.fDirectories=null;this.fKeys=null;this.fStreamers=null;this.fSeekInfo=0;this.fNbytesInfo=0;this.fTagOffset=0};a.TLocalFile=function(c,b){a.TFile.call(this,null);this.fUseStampPar=false;this.fLocalFile=c;this.fEND=c.size;this.fFullURL=c.name;this.fURL=c.name;this.fFileName=c.name;this.ReadKeys(b);return this};a.TLocalFile.prototype=Object.create(a.TFile.prototype);a.TLocalFile.prototype.ReadBuffer=function(c,i,e,d){if(e){throw new Error("Cannot access other local file "+e)}var b=new FileReader(),g=0,h=[],f=this.fLocalFile;b.onload=function(k){var j=new DataView(k.target.result);if(c.length===2){return i(j)}h.push(j);g+=2;if(g>=c.length){return i(h)}b.readAsArrayBuffer(f.slice(c[g],c[g]+c[g+1]))};b.readAsArrayBuffer(f.slice(c[0],c[0]+c[1]))};a.TNodejsFile=function(d,b){a.TFile.call(this,null);this.fUseStampPar=false;this.fEND=0;this.fFullURL=d;this.fURL=d;this.fFileName=d;var c=this;c.fs=require("fs");c.fs.open(d,"r",function(e,g){if(e){console.log(e.message);return a.CallBack(b,null)}var f=c.fs.fstatSync(g);c.fEND=f.size;c.fd=g;c.ReadKeys(b)});return this};a.TNodejsFile.prototype=Object.create(a.TFile.prototype);a.TNodejsFile.prototype.ReadBuffer=function(b,i,d,c){if(d){throw new Error("Cannot access other local file "+d)}if(!this.fs||!this.fd){throw new Error("File is not opened "+this.fFileName)}var f=0,h=[],e=this;function g(l,m,j){var k=new DataView(j.buffer,j.byteOffset,b[f+1]);if(b.length===2){return i(k)}h.push(k);f+=2;if(f>=b.length){return i(h)}e.fs.read(e.fd,new Buffer(b[f+1]),0,b[f+1],b[f],g)}e.fs.read(e.fd,new Buffer(b[1]),0,b[1],b[0],g)};a.IO.ProduceCustomStreamers=function(){var b=a.IO.CustomStreamers;b.TObject=b.TMethodCall=function(d,e){e.fUniqueID=d.ntou4();e.fBits=d.ntou4();if(e.fBits&a.IO.kIsReferenced){d.ntou2()}};b.TNamed=[{basename:"TObject",base:1,func:function(d,e){if(!e._typename){e._typename="TNamed"}d.ClassStreamer(e,"TObject")}},{name:"fName",func:function(d,e){e.fName=d.ReadTString()}},{name:"fTitle",func:function(d,e){e.fTitle=d.ReadTString()}}];a.IO.AddClassMethods("TNamed",b.TNamed);b.TObjString=[{basename:"TObject",base:1,func:function(d,e){if(!e._typename){e._typename="TObjString"}d.ClassStreamer(e,"TObject")}},{name:"fString",func:function(d,e){e.fString=d.ReadTString()}}];a.IO.AddClassMethods("TObjString",b.TObjString);b.TList=b.THashList=function(d,f){if(!f._typename){f._typename=this.typename}f.$kind="TList";if(d.last_read_version>3){d.ClassStreamer(f,"TObject");f.name=d.ReadTString();var g=d.ntou4(),e=0;f.arr=new Array(g);f.opt=new Array(g);for(;e<g;++e){f.arr[e]=d.ReadObjectAny();f.opt[e]=d.ReadTString()}}else{f.name="";f.arr=[];f.opt=[]}};b.TClonesArray=function(e,j){if(!j._typename){j._typename="TClonesArray"}j.$kind="TClonesArray";j.name="";var i=e.last_read_version;if(i>2){e.ClassStreamer(j,"TObject")}if(i>1){j.name=e.ReadTString()}var h=e.ReadTString(),o=0,m=h.lastIndexOf(";");if(m>0){o=parseInt(h.substr(m+1));h=h.substr(0,m)}var d=e.ntou4();if(d<0){d=-d}j.arr=new Array(d);j.fLast=d-1;j.fLowerBound=e.ntou4();var l=e.fFile.GetStreamer(h,{val:o});l=e.fFile.GetSplittedStreamer(l);if(!l){console.log("Cannot get member-wise streamer for",h,o)}else{for(var f=0;f<d;++f){j.arr[f]={_typename:h}}for(var g=0;g<l.length;++g){for(var f=0;f<d;++f){l[g].func(e,j.arr[f])}}}};b.TMap=function(e,g){if(!g._typename){g._typename="TMap"}g.name="";g.arr=new Array();var d=e.last_read_version;if(d>2){e.ClassStreamer(g,"TObject")}if(d>1){g.name=e.ReadTString()}var h=e.ntou4();for(var i=0;i<h;++i){var f={_typename:"TPair"};f.first=e.ReadObjectAny();f.second=e.ReadObjectAny();if(f.first){g.arr.push(f)}}};b.TTreeIndex=function(e,f){var d=e.last_read_version;f._typename="TTreeIndex";e.ClassStreamer(f,"TVirtualIndex");f.fMajorName=e.ReadTString();f.fMinorName=e.ReadTString();f.fN=e.ntoi8();f.fIndexValues=e.ReadFastArray(f.fN,a.IO.kLong64);if(d>1){f.fIndexValuesMinor=e.ReadFastArray(f.fN,a.IO.kLong64)}f.fIndex=e.ReadFastArray(f.fN,a.IO.kLong64)};b.TRefArray=function(e,g){g._typename="TRefArray";e.ClassStreamer(g,"TObject");g.name=e.ReadTString();var f=e.ntoi4();g.fLast=f-1;g.fLowerBound=e.ntoi4();var d=e.ntou2();g.fUIDs=e.ReadFastArray(f,a.IO.kUInt)};b.TCanvas=function(d,e){e._typename="TCanvas";d.ClassStreamer(e,"TPad");e.fDISPLAY=d.ReadTString();e.fDoubleBuffer=d.ntoi4();e.fRetained=(d.ntou1()!==0);e.fXsizeUser=d.ntoi4();e.fYsizeUser=d.ntoi4();e.fXsizeReal=d.ntoi4();e.fYsizeReal=d.ntoi4();e.fWindowTopX=d.ntoi4();e.fWindowTopY=d.ntoi4();e.fWindowWidth=d.ntoi4();e.fWindowHeight=d.ntoi4();e.fCw=d.ntou4();e.fCh=d.ntou4();e.fCatt=d.ClassStreamer({},"TAttCanvas");d.ntou1();d.ntou1();e.fHighLightColor=d.ntoi2();e.fBatch=(d.ntou1()!==0);d.ntou1();d.ntou1();d.ntou1()};b.TObjArray=function(e,g){if(!g._typename){g._typename="TObjArray"}g.$kind="TObjArray";g.name="";var d=e.last_read_version;if(d>2){e.ClassStreamer(g,"TObject")}if(d>1){g.name=e.ReadTString()}var h=e.ntou4(),f=0;g.arr=new Array(h);g.fLast=h-1;g.fLowerBound=e.ntou4();while(f<h){g.arr[f++]=e.ReadObjectAny()}};b.TPolyMarker3D=function(f,e){var d=f.last_read_version;f.ClassStreamer(e,"TObject");f.ClassStreamer(e,"TAttMarker");e.fN=f.ntoi4();e.fP=f.ReadFastArray(e.fN*3,a.IO.kFloat);e.fOption=f.ReadTString();e.fName=(d>1)?f.ReadTString():"TPolyMarker3D"};b.TStreamerInfo=function(d,e){d.ClassStreamer(e,"TNamed");e.fCheckSum=d.ntou4();e.fClassVersion=d.ntou4();e.fElements=d.ReadObjectAny()};b.TStreamerElement=function(d,f){var i=d.last_read_version;d.ClassStreamer(f,"TNamed");f.fType=d.ntou4();f.fSize=d.ntou4();f.fArrayLength=d.ntou4();f.fArrayDim=d.ntou4();f.fMaxIndex=d.ReadFastArray((i==1)?d.ntou4():5,a.IO.kUInt);f.fTypeName=d.ReadTString();if((f.fType===a.IO.kUChar)&&((f.fTypeName=="Bool_t")||(f.fTypeName=="bool"))){f.fType=a.IO.kBool}f.fXmin=f.fXmax=f.fFactor=0;if(i===3){f.fXmin=d.ntod();f.fXmax=d.ntod();f.fFactor=d.ntod()}else{if((i>3)&&(f.fBits&a.BIT(6))){var l=f.fTitle.indexOf("[");if((l>=0)&&(f.fType>a.IO.kOffsetP)){l=f.fTitle.indexOf("[",l+1)}var k=f.fTitle.indexOf("]",l+1);if((l>=0)&&(k>=l+2)){var g=a.ParseAsArray(f.fTitle.substr(l,k-l+1)),e=32;if(g.length===3){e=parseInt(g[2])}if(isNaN(e)||(e<2)||(e>32)){e=32}function h(n){if(!n){return 0}if(n.indexOf("pi")<0){return parseFloat(n)}n=n.trim();var m=1;if(n[0]=="-"){m=-1;n=n.substr(1)}switch(n){case"2pi":case"2*pi":case"twopi":return m*2*Math.PI;case"pi/2":return m*Math.PI/2;case"pi/4":return m*Math.PI/4}return m*Math.PI}f.fXmin=h(g[0]);f.fXmax=h(g[1]);var j=(e<32)?(1<<e):4294967295;if(f.fXmin<f.fXmax){f.fFactor=j/(f.fXmax-f.fXmin)}else{if(e<15){f.fXmin=e}}}}}};b.TStreamerBase=function(e,f){var d=e.last_read_version;e.ClassStreamer(f,"TStreamerElement");if(d>2){f.fBaseVersion=e.ntou4()}};b.TStreamerBasicPointer=b.TStreamerLoop=function(d,e){if(d.last_read_version>1){d.ClassStreamer(e,"TStreamerElement");e.fCountVersion=d.ntou4();e.fCountName=d.ReadTString();e.fCountClass=d.ReadTString()}};b.TStreamerSTL=function(d,e){d.ClassStreamer(e,"TStreamerElement");e.fSTLtype=d.ntou4();e.fCtype=d.ntou4();if((e.fSTLtype===a.IO.kSTLmultimap)&&((e.fTypeName.indexOf("std::set")===0)||(e.fTypeName.indexOf("set")==0))){e.fSTLtype=a.IO.kSTLset}if((e.fSTLtype===a.IO.kSTLset)&&((e.fTypeName.indexOf("std::multimap")===0)||(e.fTypeName.indexOf("multimap")===0))){e.fSTLtype=a.IO.kSTLmultimap}};b.TStreamerSTLstring=function(d,e){if(d.last_read_version>0){d.ClassStreamer(e,"TStreamerSTL")}};b.TStreamerObject=b.TStreamerBasicType=b.TStreamerObjectAny=b.TStreamerString=b.TStreamerObjectPointer=function(d,e){if(d.last_read_version>1){d.ClassStreamer(e,"TStreamerElement")}};b.TStreamerObjectAnyPointer=function(d,e){if(d.last_read_version>0){d.ClassStreamer(e,"TStreamerElement")}};b.TTree={name:"$file",func:function(d,e){e.$kind="TTree";e.$file=d.fFile;d.fFile.AddReadTree(e)}};b.TVirtualPerfStats="TObject";b.RooRealVar=function(e,f){var d=e.last_read_version;e.ClassStreamer(f,"RooAbsRealLValue");if(d==1){e.ntod();e.ntod();e.ntoi4()}f._error=e.ntod();f._asymErrLo=e.ntod();f._asymErrHi=e.ntod();if(d>=2){f._binning=e.ReadObjectAny()}if(d==3){f._sharedProp=e.ReadObjectAny()}if(d>=4){f._sharedProp=e.ClassStreamer({},"RooRealVarSharedProperties")}};b.RooAbsBinning=function(d,e){d.ClassStreamer(e,(d.last_read_version==1)?"TObject":"TNamed");d.ClassStreamer(e,"RooPrintable")};b.RooCategory=function(e,f){var d=e.last_read_version;e.ClassStreamer(f,"RooAbsCategoryLValue");f._sharedProp=(d===1)?e.ReadObjectAny():e.ClassStreamer({},"RooCategorySharedProperties")};b["RooWorkspace::CodeRepo"]=function(d,h){var g=(d.last_read_version==2)?3:2;for(var f=0;f<g;++f){var e=d.ntoi4()*((f==0)?4:3);while(e--){d.ReadTString()}}};b.RooLinkedList=function(e,g){var d=e.last_read_version;e.ClassStreamer(g,"TObject");var f=e.ntoi4();g.arr=a.Create("TList");while(f--){g.arr.Add(e.ReadObjectAny())}if(d>1){g._name=e.ReadTString()}};var c=a.IO.DirectStreamers;c.TQObject=function(d,e){};c.TDatime=function(d,e){e.fDatime=d.ntou4()};c.TKey=function(d,e){e.fNbytes=d.ntoi4();e.fVersion=d.ntoi2();e.fObjlen=d.ntou4();e.fDatime=d.ClassStreamer({},"TDatime");e.fKeylen=d.ntou2();e.fCycle=d.ntou2();if(e.fVersion>1000){e.fSeekKey=d.ntou8();d.shift(8)}else{e.fSeekKey=d.ntou4();d.shift(4)}e.fClassName=d.ReadTString();e.fName=d.ReadTString();e.fTitle=d.ReadTString()};c.TDirectory=function(f,e){var d=f.ntou2();e.fDatimeC=f.ClassStreamer({},"TDatime");e.fDatimeM=f.ClassStreamer({},"TDatime");e.fNbytesKeys=f.ntou4();e.fNbytesName=f.ntou4();e.fSeekDir=(d>1000)?f.ntou8():f.ntou4();e.fSeekParent=(d>1000)?f.ntou8():f.ntou4();e.fSeekKeys=(d>1000)?f.ntou8():f.ntou4()};c.TBasket=function(g,l){g.ClassStreamer(l,"TKey");var d=g.ReadVersion();l.fBufferSize=g.ntoi4();l.fNevBufSize=g.ntoi4();l.fNevBuf=g.ntoi4();l.fLast=g.ntoi4();if(l.fLast>l.fBufferSize){l.fBufferSize=l.fLast}var e=g.ntoi1();if(e===0){return}if((e%10)!=2){if(l.fNevBuf){l.fEntryOffset=g.ReadFastArray(g.ntoi4(),a.IO.kInt);if((20<e)&&(e<40)){for(var h=0,j=4278190080;h<l.fNevBuf;++h){l.fEntryOffset[h]&=~j}}}if(e>40){l.fDisplacement=g.ReadFastArray(g.ntoi4(),a.IO.kInt)}}if((e===1)||(e>10)){var k=(d.val<=1)?g.ntoi4():l.fLast;if(k>l.fKeylen){var f=g.extract([g.o+l.fKeylen,k-l.fKeylen]);l.fBufferRef=a.CreateTBuffer(f,0,g.fFile,k-l.fKeylen);l.fBufferRef.fTagOffset=l.fKeylen}g.shift(k)}};c.TRef=function(d,e){d.ClassStreamer(e,"TObject");if(e.fBits&a.IO.kHasUUID){e.fUUID=d.ReadTString()}else{e.fPID=d.ntou2()}};c["TMatrixTSym<float>"]=function(f,k){f.ClassStreamer(k,"TMatrixTBase<float>");k.fElements=new Float32Array(k.fNelems);var d=f.ReadFastArray((k.fNrows*(k.fNcols+1))/2,a.IO.kFloat),h=0;for(var g=0;g<k.fNrows;++g){for(var e=g;e<k.fNcols;++e){k.fElements[e*k.fNcols+g]=k.fElements[g*k.fNcols+e]=d[h++]}}};c["TMatrixTSym<double>"]=function(f,k){f.ClassStreamer(k,"TMatrixTBase<double>");k.fElements=new Float64Array(k.fNelems);var d=f.ReadFastArray((k.fNrows*(k.fNcols+1))/2,a.IO.kDouble),h=0;for(var g=0;g<k.fNrows;++g){for(var e=g;e<k.fNcols;++e){k.fElements[e*k.fNcols+g]=k.fElements[g*k.fNcols+e]=d[h++]}}}};a.IO.CreateStreamerElement=function(b,f,d){var c={_typename:"TStreamerElement",fName:b,fTypeName:f,fType:0,fSize:0,fArrayLength:0,fArrayDim:0,fMaxIndex:[0,0,0,0,0],fXmin:0,fXmax:0,fFactor:0};if(typeof f==="string"){c.fType=a.IO.GetTypeId(f);if((c.fType<0)&&d&&d.fBasicTypes[f]){c.fType=d.fBasicTypes[f]}}else{c.fType=f;f=c.fTypeName=a.IO.TypeNames[c.fType]||"int"}if(c.fType>0){return c}var e=a.IO.kNotSTL,g=f.indexOf("<");if((g>0)&&(f.indexOf(">")>g+2)){for(var j=1;j<a.IO.StlNames.length;++j){if(f.substr(0,g)===a.IO.StlNames[j]){e=j;break}}}if(e!==a.IO.kNotSTL){c._typename="TStreamerSTL";c.fType=a.IO.kStreamer;c.fSTLtype=e;c.fCtype=0;return c}var h=false;if(f.lastIndexOf("*")===f.length-1){h=true;c.fTypeName=f=f.substr(0,f.length-1)}var i=a.IO.GetArrayKind(f);if(i==0){c.fType=a.IO.kTString;return c}c.fType=h?a.IO.kAnyP:a.IO.kAny;return c};a.IO.ReadVectorElement=function(d){if(this.member_wise){var j=d.ntou4(),g=null,b=this.stl_version;if(j===0){return[]}if(j>1000000){throw new Error("member-wise streaming of "+this.conttype+" num "+j+" member "+this.name);return[]}if((b.val===this.member_ver)&&(b.checksum===this.member_checksum)){g=this.member_streamer}else{g=d.fFile.GetStreamer(this.conttype,b);this.member_streamer=g=d.fFile.GetSplittedStreamer(g);this.member_ver=b.val;this.member_checksum=b.checksum}var f=new Array(j),e,c,h;for(e=0;e<j;++e){f[e]={_typename:this.conttype}}if(!g){console.error("Fail to create splitted streamer for",this.conttype,"need to read ",j,"objects version",b)}else{for(c=0;c<g.length;++c){h=g[c];if(h.split_func){h.split_func(d,f,j)}else{for(e=0;e<j;++e){h.func(d,f[e])}}}}return f}var j=d.ntou4(),f=new Array(j),e=0;if(j>200000){console.error("vector streaming for of",this.conttype,j);return f}if(this.arrkind>0){while(e<j){f[e++]=d.ReadFastArray(d.ntou4(),this.arrkind)}}else{if(this.arrkind===0){while(e<j){f[e++]=d.ReadTString()}}else{if(this.isptr){while(e<j){f[e++]=d.ReadObjectAny()}}else{if(this.submember){while(e<j){f[e++]=this.submember.readelem(d)}}else{while(e<j){f[e++]=d.ClassStreamer({},this.conttype)}}}}}return f};a.IO.ReadMapElement=function(d){var g=this.streamer;if(this.member_wise){var b=this.stl_version;if(this.si){var c=d.fFile.FindStreamerInfo(this.pairtype,b.val,b.checksum);if(this.si!==c){g=a.IO.GetPairStreamer(c,this.pairtype,d.fFile);if(!g||g.length!==2){console.log("Fail to produce streamer for ",this.pairtype);return null}}}}var f,h=d.ntoi4(),e=new Array(h);for(f=0;f<h;++f){e[f]={_typename:this.pairtype};g[0].func(d,e[f]);if(!this.member_wise){g[1].func(d,e[f])}}if(this.member_wise){for(f=0;f<h;++f){g[1].func(d,e[f])}}return e};a.OpenFile=function(b,c){if(a.nodejs&&b.indexOf("file://")==0){return new a.TNodejsFile(b.substr(7),c)}if(typeof b==="object"&&b.size&&b.name){return new a.TLocalFile(b,c)}return new a.TFile(b,c)};a.IO.NativeArray=a.nodejs||(window&&("Float64Array" in window));a.IO.ProduceCustomStreamers();return a}));